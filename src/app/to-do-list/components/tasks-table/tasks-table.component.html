<div class="table-responsive">
  <table class="table table-hover">
    <thead class="table-light table-header">
      <tr>
        <th style="width: 50px"></th>
        <th>Tarefa</th>
        <th style="width: 200px">Data de criação</th>
        <th style="width: 200px">Data de conclusão</th>
        <th style="width: 100px" class="text-center">Ações</th>
      </tr>
    </thead>
    <tbody>
      @for (task of tasks; track task.id) {
        <tr class="table-light">
          <td class="align-middle">
            <div class="form-check">
              <input
                class="form-check-input"
                type="checkbox"
                [checked]="task.finished"
                (change)="completeTask(task)"
              />
            </div>
          </td>
          <td class="align-middle">
            <span
              [class.text-decoration-line-through]="task.finished"
              [class.text-muted]="task.finished"
            >
              {{ task.name }}
            </span>
            @if (task.finished) {
              <span class="badge bg-success ms-2 small">Concluída</span>
            }
          </td>
          <td class="align-middle">
            {{ formatDate(task.creationDate) }}
          </td>
          <td class="align-middle">
            @if (task.conclusionDate) {
              {{ formatDate(task.conclusionDate) }}
            } @else {
              <span>-</span>
            }
          </td>
          <td class="align-middle text-center">
            <button
              class="btn btn-outline-danger btn-sm"
              (click)="deleteTask(task.id)"
              title="Excluir tarefa"
            >
              Excluir
            </button>
          </td>
        </tr>
      } @empty {
        <tr>
          <td colspan="5" class="text-center p-3">Nenhuma tarefa encontrada.</td>
        </tr>
      }
    </tbody>
  </table>
</div>
